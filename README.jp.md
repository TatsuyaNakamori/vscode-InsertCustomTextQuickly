# Insert Custom Text Quickly 取扱説明書 (🗾日本語🎌)


## 概要

* **ユーザーが設定したテキストを挿入します。**
  * 日本語や絵文字などの挿入
  * スニペット構文のサポート("`$0`", "`${1:code}`", "`${UUID}`"など)
  * エスケープ文字のサポート("`\n`", "`\t`"など)
  * 選択中の文字列の組み込み("`${[HOLD]}`"キーワード)
  * "`${[DATE]}`"キーワードを使った、日時の挿入
  * "`${[SEQ]}`"キーワードを使った、数値や文字の連番の挿入
<br><br>

## ライセンス
Copyright (c) 2021 Tatsuya Nakamori<br>
MIT License
<br><br>

## 寄付のお願い

日本の法律では個人間の送金が禁止されているので、「購入」として処理されます。お住いの地域(国)の税制優遇を受けることができない可能性があるので注意してください。

[![paypal](https://www.paypalobjects.com/en_US/GB/i/btn/btn_subscribeCC_LG.gif)](https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=92TF7YW4SUBHS)
<br><br>

## 使用方法

1. `Settings(Ctrl+,)`を開き、"`Insert Custom Text Quickly`"の項目を選択します。
1. `Text01`～`Text10`の各項目に、挿入したい文字を入力します。<br>
  <img src="resources/doc/vscode_prev01.gif" width=700px>
1. エディタで右クリックし、"`Insert Text 01`"～"`Insert Text 10`"のメニュー項目を選択します。<br>(デフォルトで[`Ctrl+Alt+1`]～[`Ctrl+Alt+0`]のショートカットが設定されているので、ショートカットからもアクセスできます)<br>
  <img src="resources/doc/vscode_prev02.gif" width=700px>
<br><br>

## 設定方法

|Settingsの設定|結果|説明|
|---|---|---|
|"Hello!",『おやすみ』😪💤, 'Wake up!'    |"Hello!",『おやすみ』😪💤, 'Wake up!'    |2バイト文字(日本語など)や絵文字を入力できます|
|Backslash:`\b`,`\n`NewLine,`\n`TAB`\t`TAB|Backslash:\\,<br>NewLine,<br>TAB&emsp;TAB|各エスケープ文字列に対応しています<br>[`\b`(`\\`): バックスラッシュ], [`\t`: Tab], [`\r`: 復帰], [`\n`: 改行]<br>[[詳細](#エスケープ文字)]|
|if (`${1:condision}`) {`\n`&nbsp;&nbsp;&nbsp;&nbsp;`$0\n`}|if (condision) {<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>}|Snippetsの書式を使うことができます<br>[VSCode Snippets](https://code.visualstudio.com/docs/editor/userdefinedsnippets)|
|`${UUID}`|6ca25d87-2b09-4190-9454-f2ad52b9bb5f|`${UUID}`キーワードは、UUIDバージョン4を生成します<br>(VSCodeのSnippetsの機能の一部です)|
|\<div>`${[HOLD]}`\</div>|\<div>`SELECTED_TEXT`\</div>|`${[HOLD]}`キーワードを使うと、選択中の文字を挿入することができます|
|\<div align=\"`${1:left}`\">`${[HOLD]}`\</div>|\<div align="left">`SELECTED_TEXT`\</div>|`${[HOLD]}`キーワードとSnippetsの書式を組み合わせることができます|
|[default] `${[DATE]}`\n[ja-format] `${[DATE]YYYY年MMMMD日(dd), A h:mm:ja}`|[default] 2021-02-10T20:55:06+09:00<br>[ja-format] 2021年2月10日(水), 午後 8:55|`${[DATE]}`キーワードを使うと、日付を挿入できます<br>\"`[DATE]`\"の後でフォーマットやロケート(地域)を設定することができます [[詳細](#${[DATE]}-キーワードについて)]|
|`${[SEQ]%d:1:1}`|1<br>2<br>3|`${[SEQ]}`キーワードを使うと、連番を挿入できます<br>(複数選択をする必要があります)<br>\"`[SEQ]`\"の後で、\"`フォーマット:初期値:ステップ`\"を設定します[[フォーマットの詳細](#フォーマットについて-(${[SEQ]}))]|
|`${[SEQ]%c:65:1}`|A<br>B<br>C|`${[SEQ]}`キーワードで\"`%c`\"フォーマットを使うと、アルファベットを順番に挿入することができます<br>65を指定すると"A"が, 97を指定すると"a"が表示されます[ [詳細](#"`%c`"フォーマットの、番号と文字の対応表-(${[SEQ]})) ]|
|`${[SEQ]%d:x:x}`<br>(インプットボックスの設定: `2:2`)|2<br>4<br>6|`${[SEQ]}`のオプションで、初期値とステップに\"`x`\"を指定すると、入力ダイアログが表示されます<br>実行するときに初期値とステップの値を指定することができます|
<br>

## エスケープ文字
* バックスラッシュと特定の文字を組み合わせることで、特殊な意味を持たせることができます。
  |記号|意味|
  |---|---|
  |\t|Tab|
  |\r|復帰|
  |\n|改行|
  |\b (\\\\)|バックスラッシュ|
  <br><br>

## ${[DATE]} キーワードについて
* **${[DATE]}** キーワードを使うと、現在の日付の情報を挿入できます。
* **[DATE]** の後に、出力フォーマットとロケールを指定することができます。
  * フォーマットの書式を使うことで、年・月・日・時・分・秒 などの情報を取り出すことができます。
  * フォーマットとロケールはコロンを使って区切ります。(**${[DATE]`YYYY年MMMMD日(dd), A h:mm:ja`}**)
<br>

* フォーマットの概要は、下記の表になります。より詳細な情報は、次のドキュメントをご確認ください。<br>
  [ [Format](https://day.js.org/docs/en/display/format) ] [ [Localized formats](https://day.js.org/docs/en/display/format#list-of-localized-formats) ] [ [AdvancedFormat](https://day.js.org/docs/en/plugin/advanced-format) ]
  |書式|結果|説明|
  |---|---|---|
  |${[DATE]}|2021-02-11T12:49:59+09:00|何も指定しないと、VisualStudioCodeのロケールで、<br>左のような結果が得られます|
  |${[DATE]`YYYY/M/D`}|2021/2/11|`YYYY`は4桁の西暦、`M`は月、`D`は日を出力します<br>`YY`, `MM`, `DD`とすることで、2桁揃えにすることもできます[ [Format](https://day.js.org/docs/en/display/format) ]|
  |${[DATE]`dddd`}|Thursday|`dddd`は曜日を出力します|
  |${[DATE]`dddd`:`ja`}|木曜日|ロケールを"`ja`"とすると、日本語で曜日を出力します|
  |${[DATE]`A h:m:s`}|PM 1:1:30|"`A`"は"AM PM"、"`h`"は時間(12時間制)、"`m`"は分、"`s`"は秒を出力します|
  |${[DATE]`LLLL`}|Thursday, February 11, 2021 1:04 PM|"`LLLL`"という特殊な記号を使うと、予め設定されているフォーマットをロケールに応じて適用します<br>[ [Localized formats](https://day.js.org/docs/en/display/format#list-of-localized-formats) ]|
  |${[DATE]`LLLL`:`ja`}|2021年2月11日 木曜日 13:04|ロケールを"`ja`"とすると、日本語表記になります|
  |${[DATE]`[Quarter:] Q, [Do:] Do`}|Quarter: 1, Do: 11th|[ [AdvancedFormat](https://day.js.org/docs/en/plugin/advanced-format) ]を使うと、クオーターや、序数表記での"日"を出力できます<br>また、"`Do`"や"`YYYY`"などの文字を角括弧(`[]`)で囲うと、日付に変換されずに、文字をそのまま出力することができます|
  |${[DATE]`[Quarter:] Q, [Do:] Do`:`ja`}|Quarter: 1, Do: 11日|ロケールを"`ja`"にすると、"`11日`"のように日本語表記になります|
  <br>

* ロケールは、次の地域を指定できます。
* ロケールを指定しない場合は、Visual Studio Codeで使用されている言語の情報を使います。<br>デフォルトの英語表記の場合は"`en`"を、日本語環境に設定している場合は"`ja`"が適用されます。
  |ロケール記号|言語||ロケール記号|言語||ロケール記号|言語|
  |---|---|---|---|---|---|---|---|
  |en|英語(米国)||it|イタリア語||bg|ブルガリア語|
  |zh-cn|簡体字中国語||es|スペイン語||hu|ハンガリー語|
  |zh-tw|繁体字中国語||ja|日本語||pt-br|ポルトガル語(ブラジル)|
  |fr|フランス語||ko|韓国語||tr|トルコ語|
  |de|ドイツ語||ru|ロシア語|
  <br>
<br><br>

## ${[SEQ]} キーワードについて
* 複数のテキストカーソルがある場合、各カーソルの選択順に数値や文字の並びを挿入できます。
* `[SEQ]`の後に、`フォーマット:初期値:ステップ`を記述します。
* `フォーマット`は、指定した数値を16進数やASCII文字に変換することができます。
* `初期値`は最初の数値を指定します。小数点などの値を指定することもできます。
* `ステップ`は、数値などを飛ばしたい場合に、1以外の数値を入力します。
* フォーマットを`%d`、初期値を`1`、ステップを`2`にした場合("${[SEQ]`%d:1:2`}")、"1, 3, 5, 7..."という結果がでます。
* 初期値とステップを"`x`"にした場合(例: "${[SEQ]`%d:x:x`}")、数値の挿入前にインプットダイアログが表示されますので、初期値とステップを入力します。<br>(状況に応じて初期値/ステップが変化するようなケースではこちらを使用してください)
<br><br>

### フォーマットについて (${[SEQ]})

  * プログラミング言語でよく使用される、"printf"の変換指定子を使います。
    |フォーマット<br>(変換指定子)|意味|
    |---|---|
    |%d|10進数表記|
    |%02d|"%"と"d"の間に"02"と指定することで、2桁に桁揃えされた10進数表記に変換されます (01, 02, ...)|
    |%o|8進数に変換されます|
    |%x|16進数に変換されます(文字"abcdef"は小文字になります)|
    |%X|16進数に変換されます(文字"ABCDEF"は大文字になります)|
    |%f|浮動小数点(実数)を表示します|
    |%.2f|"%"と"f"の間に".2"と指定することで、小数点以下を2桁に揃えます|
    |%3.2f|"%"と"f"の間に"3.2"と指定すると、整数部が3桁、小数点以下を2桁に揃えます|
    |%e|実数を指数表示で表示します|
    |%c|指定した番号のASCII文字に変換されます[[詳細](#"%c"フォーマットの、番号と文字の対応表-(${[SEQ]}))]|
    <br>

### "`%c`"フォーマットの、番号と文字の対応表 (${[SEQ]})
* `${[SEQ]%c:65:1}`と指定することで、Aから順番にアルファベットを挿入することができます。
* 小文字aから始めたい場合は、`${[SEQ]%c:97:1}`と指定します。
    |番号|文字||番号|文字||番号|文字||番号|文字|
    |---|---|---|---|---|---|---|---|---|---|---|
    |65|A||78|N||97|a||110|n|
    |66|B||79|O||98|b||111|o|
    |67|C||80|P||99|c||112|p|
    |68|D||81|Q||100|d||113|q|
    |69|E||82|R||101|e||114|r|
    |70|F||83|S||102|f||115|s|
    |71|G||84|T||103|g||116|t|
    |72|H||85|U||104|h||117|u|
    |73|I||86|V||105|i||118|v|
    |74|J||87|W||106|j||119|w|
    |75|K||88|X||107|k||120|x|
    |76|L||89|Y||108|l||121|y|
    |77|M||90|Z||109|m||122|z|
    <br>
<br>

## 既知の問題/ 将来のアップデート
1. コンテキストメニューやコマンドパレットでこのエクステンションのコマンドを表示した時に、どのような文字を挿入するのかが分かりづらい状態にあります。<br>これはVisual Studio CodeのAPIの制限により、メニューのラベルを変更できないことが原因です。<br>どのような文字を挿入しようとしているのかが分かりやすくなるような仕組みを検討しています。<br>
![context_menu.png](resources/doc/context_menu_small.png)<br><br>
1. ランダムな文字を挿入できるような機能の追加を考えています。<br><br>
1. `${[SEQ]}`の機能の拡張を考えています。<br>
<br><br>

## リリースノート

### 0.0.1
* 新規リリース


